<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kalkulator Hemat Biaya: Motor Listrik vs Bensin</title>
  <meta name="description" content="Hitung penghematan biaya antara motor listrik dan motor bensin. Cocok untuk perencanaan harian/bulanan. Gratis & open-source untuk GitHub Pages." />
  <meta property="og:title" content="Kalkulator Hemat Biaya: Motor Listrik vs Bensin" />
  <meta property="og:description" content="Bandingkan biaya operasional motor listrik vs bensin secara cepat." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://dummyimage.com/1200x630/0f172a/ffffff&text=Kalkulator+Motor+Listrik+vs+Bensin" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>‚ö°</text></svg>">
  <style>
    :root{
      --bg:#0b1220; /* slate-950 */
      --card:#0f172a; /* slate-900 */
      --muted:#94a3b8; /* slate-400 */
      --text:#e2e8f0; /* slate-200 */
      --brand:#22d3ee; /* cyan-400 */
      --brand-2:#a78bfa; /* violet-400 */
      --accent:#34d399; /* emerald-400 */
      --danger:#fb7185; /* rose-400 */
      --ring: rgba(34, 211, 238, .35);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font:16px/1.6 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background: radial-gradient(1200px 600px at 10% -10%, rgba(167,139,250,.15), transparent 60%),
                  radial-gradient(900px 500px at 120% 10%, rgba(34,211,238,.12), transparent 60%),
                  var(--bg);
      color:var(--text);
    }
    .container{max-width:1100px; margin:0 auto; padding:24px}
    header{display:flex; align-items:center; gap:14px; padding:16px 0}
    .logo{width:40px;height:40px;display:grid;place-items:center;border-radius:50%;background:linear-gradient(135deg,var(--brand),var(--brand-2));box-shadow:var(--shadow)}
    .brand{font-weight:700;letter-spacing:.2px}

    .hero{display:grid;grid-template-columns:1.2fr .8fr;gap:28px;align-items:center;margin:18px 0 28px}
    @media (max-width: 900px){.hero{grid-template-columns:1fr}}
    .hero-card{background:linear-gradient(180deg,rgba(15,23,42,.8),rgba(15,23,42,.6));border:1px solid rgba(226,232,240,.06);padding:28px;border-radius:var(--radius);box-shadow:var(--shadow)}
    .kicker{display:inline-block;margin-bottom:8px;font-size:.85rem;color:var(--muted);letter-spacing:.4px}
    h1{margin:.1em 0 .4em;font-size:clamp(1.6rem,2.6vw,2.4rem)}
    .sub{color:var(--muted)}

    .badges{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
    .badge{font-size:.8rem;border:1px solid rgba(226,232,240,.08);padding:6px 10px;border-radius:999px;background:rgba(226,232,240,.04)}

    .card{background:linear-gradient(180deg,rgba(15,23,42,.85),rgba(15,23,42,.65));border:1px solid rgba(226,232,240,.08);border-radius:var(--radius);box-shadow:var(--shadow)}
    .grid{display:grid;gap:18px}
    .grid-2{grid-template-columns:1fr 1fr}
    @media (max-width: 900px){.grid-2{grid-template-columns:1fr}}

    .form{padding:22px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    @media (max-width: 700px){.row{grid-template-columns:1fr}}
    label{font-size:.9rem;color:var(--muted)}
    input, select{
      width:100%;
      background:#0b1220;
      color:var(--text);
      border:1px solid rgba(226,232,240,.08);
      padding:12px 14px;
      border-radius:12px;
      outline:none;
      transition: box-shadow .2s, border-color .2s;
    }
    input:focus, select:focus{box-shadow:0 0 0 6px var(--ring); border-color: var(--brand)}

    .btn{
      appearance:none; border:0; cursor:pointer; padding:12px 16px; border-radius:12px; font-weight:700;
      background: linear-gradient(135deg, var(--brand), var(--brand-2)); color:#0b1220; box-shadow: var(--shadow);
    }
    .btn.secondary{background:transparent;color:var(--text);border:1px solid rgba(226,232,240,.15)}
    .btn:disabled{opacity:.6; cursor:not-allowed}

    .results{padding:22px}
    .stat{display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center;padding:12px 14px;border-radius:14px;border:1px dashed rgba(226,232,240,.12);background:rgba(226,232,240,.03)}
    .stat .label{color:var(--muted);font-size:.9rem}
    .stat .value{font-size:1.1rem;font-weight:800}
    .stat .pill{font-size:.75rem;color:#0b1220;background:var(--accent);padding:4px 8px;border-radius:999px}
    .warn{background:rgba(251,113,133,.08); border-color: rgba(251,113,133,.3)}

    details{background:rgba(226,232,240,.04); border:1px solid rgba(226,232,240,.08); padding:14px; border-radius:12px}
    summary{cursor:pointer; font-weight:700}

    footer{margin:36px 0 20px; color:var(--muted); font-size:.9rem}
    a{color:var(--brand)}
    .small{font-size:.85rem;color:var(--muted)}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo" aria-hidden="true">‚ö°</div>
      <div>
        <div class="brand">Kalkulator Motor Listrik</div>
        <div class="small">Bandingkan biaya operasional motor listrik vs bensin</div>
      </div>
    </header>

    <section class="hero">
      <div class="hero-card">
        <span class="kicker">Landing Page ¬∑ Siap GitHub Pages</span>
        <h1>Hitung Penghematan Anda dalam <em>detik</em></h1>
        <p class="sub">Masukkan kebiasaan berkendara dan beberapa asumsi sederhana. Kalkulator akan memperkirakan biaya per km, biaya bulanan, tahunan, dan total penghematan jika beralih dari motor bensin ke motor listrik.</p>
        <div class="badges">
          <span class="badge">100% Client‚Äëside (HTML/CSS/JS)</span>
          <span class="badge">Tidak perlu server</span>
          <span class="badge">Cocok untuk presentasi & kampanye</span>
        </div>
      </div>
      <div class="hero-card">
        <ul>
          <li>üîã <strong>Efisiensi EV dihitung dari kapasitas baterai (kWh)</strong> dan <strong>jarak tempuh per pengisian penuh</strong>.</li>
          <li>‚õΩ <strong>Biaya bensin</strong> dihitung dari <strong>km/liter</strong> dan <strong>harga per liter</strong>.</li>
          <li>üõ†Ô∏è Sertakan <strong>biaya perawatan per km</strong> untuk keduanya.</li>
          <li>üìÖ Hasil per <strong>km</strong>, <strong>bulan</strong>, dan <strong>tahun</strong>.</li>
        </ul>
      </div>
    </section>

    <section class="grid grid-2">
      <form class="card form" id="calc-form" autocomplete="off">
        <h2 style="margin:0 0 8px">Input Asumsi</h2>
        <p class="small" style="margin-top:0">Angka awal hanya contoh. Silakan sesuaikan dengan kondisi Anda.</p>

        <div class="row">
          <div>
            <label for="jarakHarian">Jarak berkendara per hari (km)</label>
            <input id="jarakHarian" type="number" min="0" step="0.1" value="25" required />
          </div>
          <div>
            <label for="hariPerBulan">Hari berkendara per bulan (hari)</label>
            <input id="hariPerBulan" type="number" min="0" step="1" value="24" required />
          </div>
        </div>

        <div class="row">
          <div>
            <label for="hargaListrik">Harga listrik (Rp/kWh)</label>
            <input id="hargaListrik" type="number" min="0" step="1" value="1500" required />
          </div>
          <div>
            <label for="hargaBensin">Harga bensin (Rp/liter)</label>
            <input id="hargaBensin" type="number" min="0" step="1" value="13500" required />
          </div>
        </div>

        <div class="row">
          <div>
            <label for="kapasitasBat">Kapasitas baterai EV (kWh)</label>
            <input id="kapasitasBat" type="number" min="0" step="0.1" value="2.0" required />
          </div>
          <div>
            <label for="jarakSekaliCharge">Jarak per 1x charge penuh (km)</label>
            <input id="jarakSekaliCharge" type="number" min="1" step="1" value="70" required />
          </div>
        </div>

        <div class="row">
          <div>
            <label for="kmPerLiter">Efisiensi motor bensin (km/liter)</label>
            <input id="kmPerLiter" type="number" min="0.1" step="0.1" value="40" required />
          </div>
          <div>
            <label for="servisEv">Perawatan EV (Rp/km)</label>
            <input id="servisEv" type="number" min="0" step="1" value="30" required />
          </div>
        </div>

        <div class="row">
          <div>
            <label for="servisBensin">Perawatan bensin (Rp/km)</label>
            <input id="servisBensin" type="number" min="0" step="1" value="120" required />
          </div>
          <div>
            <label for="tarifPublik">Markup isi daya publik (%) <span class="small">opsional</span></label>
            <input id="tarifPublik" type="number" min="0" step="1" value="0" />
          </div>
        </div>

        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:8px">
          <button class="btn" type="button" id="hitung">Hitung</button>
          <button class="btn secondary" type="reset" id="reset">Reset</button>
        </div>

        <details style="margin-top:16px">
          <summary>Bagaimana perhitungannya?</summary>
          <ul class="small">
            <li><strong>Konsumsi listrik EV (kWh/km)</strong> = Kapasitas baterai (kWh) √∑ Jarak per 1x charge (km)</li>
            <li><strong>Biaya EV per km</strong> = Konsumsi listrik (kWh/km) √ó Harga listrik (Rp/kWh) √ó (1 + Markup publik)</li>
            <li><strong>Biaya bensin per km</strong> = (1 √∑ km/liter) √ó Harga bensin (Rp/liter)</li>
            <li><strong>Total km/bulan</strong> = Jarak harian √ó Hari per bulan</li>
            <li><strong>Biaya bulanan</strong> = (Biaya per km + Perawatan per km) √ó Total km/bulan</li>
          </ul>
        </details>
      </form>

      <div class="card results" id="results" aria-live="polite">
        <h2 style="margin:0 0 8px">Hasil Perhitungan</h2>
        <p class="small" style="margin-top:0">Tekan <em>Hitung</em> setelah mengubah input untuk melihat hasil terbaru.</p>

        <div class="grid" style="margin-top:10px">
          <div class="stat" id="stat-ev-km">
            <div class="label">Biaya EV per km</div>
            <div class="value" data-value>‚Äî</div>
            <div class="pill">EV</div>
          </div>
          <div class="stat" id="stat-ice-km">
            <div class="label">Biaya bensin per km</div>
            <div class="value" data-value>‚Äî</div>
            <div class="pill" style="background:var(--danger)">Bensin</div>
          </div>
          <div class="stat" id="stat-ev-bulan">
            <div class="label">Biaya EV per bulan</div>
            <div class="value" data-value>‚Äî</div>
            <div class="pill">EV</div>
          </div>
          <div class="stat" id="stat-ice-bulan">
            <div class="label">Biaya bensin per bulan</div>
            <div class="value" data-value>‚Äî</div>
            <div class="pill" style="background:var(--danger)">Bensin</div>
          </div>
          <div class="stat" id="stat-saved-bulan">
            <div class="label">Penghematan per bulan</div>
            <div class="value" data-value>‚Äî</div>
            <div class="pill" style="background:var(--accent)">Hemat</div>
          </div>
          <div class="stat" id="stat-saved-tahun">
            <div class="label">Penghematan per tahun</div>
            <div class="value" data-value>‚Äî</div>
            <div class="pill" style="background:var(--accent)">Hemat</div>
          </div>
        </div>

        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:16px">
          <button class="btn secondary" id="copyLink" type="button">Salin tautan dengan parameter</button>
          <button class="btn secondary" id="exportJSON" type="button">Unduh hasil (.json)</button>
        </div>
      </div>
    </section>

    <footer class="container" style="padding:0">
      <p>¬© <span id="year"></span> Kalkulator Motor Listrik. Dirancang untuk di-host gratis via <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a>. Kode ini berlisensi MIT.</p>
      <p class="small">Disclaimer: Ini adalah estimasi berbasis asumsi pengguna. Hasil aktual dapat berbeda tergantung perilaku berkendara, kondisi jalan, dan harga energi.</p>
    </footer>
  </div>

  <script>
    // Helper
    const $ = (sel, ctx=document) => ctx.querySelector(sel);
    const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));
    const rupiah = n => new Intl.NumberFormat('id-ID', {style:'currency', currency:'IDR', maximumFractionDigits:0}).format(n||0);

    const form = $('#calc-form');
    const yearEl = $('#year');
    yearEl.textContent = new Date().getFullYear();

    // Read inputs
    function readInputs(){
      const toNum = id => parseFloat($('#'+id).value || '0');
      return {
        jarakHarian: toNum('jarakHarian'),
        hariPerBulan: toNum('hariPerBulan'),
        hargaListrik: toNum('hargaListrik'),
        hargaBensin: toNum('hargaBensin'),
        kapasitasBat: toNum('kapasitasBat'),
        jarakSekaliCharge: toNum('jarakSekaliCharge'),
        kmPerLiter: toNum('kmPerLiter'),
        servisEv: toNum('servisEv'),
        servisBensin: toNum('servisBensin'),
        tarifPublik: toNum('tarifPublik')/100
      };
    }

    function compute(){
      const v = readInputs();
      const totalKmBulan = v.jarakHarian * v.hariPerBulan;
      const kWhPerKm = v.jarakSekaliCharge > 0 ? (v.kapasitasBat / v.jarakSekaliCharge) : 0; // kWh/km
      const biayaEvPerKm = kWhPerKm * v.hargaListrik * (1 + v.tarifPublik) + v.servisEv; // Rp/km
      const biayaBensinPerKm = (v.kmPerLiter > 0 ? (1 / v.kmPerLiter) : 0) * v.hargaBensin + v.servisBensin; // Rp/km

      const biayaEvBulan = biayaEvPerKm * totalKmBulan;
      const biayaBensinBulan = biayaBensinPerKm * totalKmBulan;
      const hematBulan = Math.max(0, biayaBensinBulan - biayaEvBulan);
      const hematTahun = hematBulan * 12;

      return { totalKmBulan, kWhPerKm, biayaEvPerKm, biayaBensinPerKm, biayaEvBulan, biayaBensinBulan, hematBulan, hematTahun };
    }

    function render(res){
      const set = (id, val) => $('#'+id+' [data-value]').textContent = val;
      set('stat-ev-km', rupiah(res.biayaEvPerKm));
      set('stat-ice-km', rupiah(res.biayaBensinPerKm));
      set('stat-ev-bulan', rupiah(res.biayaEvBulan));
      set('stat-ice-bulan', rupiah(res.biayaBensinBulan));
      set('stat-saved-bulan', rupiah(res.hematBulan));
      set('stat-saved-tahun', rupiah(res.hematTahun));

      // Highlight warning when EV cost > ICE
      const savedCard = $('#stat-saved-bulan');
      if(res.hematBulan <= 0){
        savedCard.classList.add('warn');
      }else{
        savedCard.classList.remove('warn');
      }
    }

    function toQuery(){
      const v = readInputs();
      const params = new URLSearchParams();
      Object.entries(v).forEach(([k,val])=>params.set(k, String(val)));
      return params.toString();
    }

    function fromQuery(){
      const p = new URLSearchParams(location.search);
      const set = (id) => { if(p.has(id)) $('#'+id).value = p.get(id); };
      ['jarakHarian','hariPerBulan','hargaListrik','hargaBensin','kapasitasBat','jarakSekaliCharge','kmPerLiter','servisEv','servisBensin','tarifPublik'].forEach(set);
    }

    // Event bindings
    $('#hitung').addEventListener('click', ()=>{
      const res = compute();
      render(res);
    });

    $('#reset').addEventListener('click', ()=>{
      setTimeout(()=>render({biayaEvPerKm:0, biayaBensinPerKm:0, biayaEvBulan:0, biayaBensinBulan:0, hematBulan:0, hematTahun:0}), 0);
      history.replaceState({}, '', location.pathname);
    });

    $('#copyLink').addEventListener('click', async ()=>{
      const q = toQuery();
      const url = location.origin + location.pathname + '?' + q;
      try{ await navigator.clipboard.writeText(url); alert('Tautan disalin!'); }
      catch{ prompt('Salin tautan berikut:', url); }
      history.replaceState({}, '', '?' + q);
    });

    $('#exportJSON').addEventListener('click', ()=>{
      const v = readInputs();
      const res = compute();
      const payload = { input:v, hasil:res, _meta:{ generatedAt: new Date().toISOString(), app:'kalkulator-ev-vs-bensin', version:'1.0.0' } };
      const blob = new Blob([JSON.stringify(payload,null,2)], {type:'application/json'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'hasil-kalkulator-ev.json';
      a.click();
      URL.revokeObjectURL(a.href);
    });

    // Initialize from query if present, then auto-calc
    fromQuery();
    render({biayaEvPerKm:0, biayaBensinPerKm:0, biayaEvBulan:0, biayaBensinBulan:0, hematBulan:0, hematTahun:0});
    $('#hitung').click();
  </script>
</body>
</html>
